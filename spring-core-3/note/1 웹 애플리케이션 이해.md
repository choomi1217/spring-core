# 웹 서버, 웹 애플리케이션 서버

### 웹에선 모든것이 HTTP이다.
- 웹에서 대부분의 데이터는 HTTP 프로토콜을 준수하게 된다.
- 서버간의 전송에서도 HTTP가 사용된다.

### 웹 서버
- HTTP 기반으로 동작
- 클라이언트가 `HTTP 요청`을 하면 웹 서버는 `HTTP 응답`을 함
- 이때 응답의 종류로 정적파일들이 해당 됨.
- 대표적으로 `NginX`, `Apache` 

### 웹 애플리케이션 서버 (WAS - Web Application Server)
- HTTP 기반으로 동작
- 웹 서버 기능 + 프로그램 수행
- 프로그램 코드를 실행할 수 있으므로 응답으로는 `Jsp`, `스프링`, `동적 Html파일`, `json` 등이 이에 해당 됨.
- 대표적으로 `Tomcat`, `Jetty`

### 웹 서버 vs 와스 서버
- 둘의 경계는 모호하나 WAS가 프로그램 로직 실행에 더 특화 되어 있음.
- 하지만 was가 모든 일을 처리하면 과부화가 우려됨.
- 정적 리소스 제공보다 프로그램 로직 실행이 중요.
- was 장애시 서버 점검 및 서버 장애에 대한 안내 문구 표출조차 불가능해짐. 

### 타협점
![img.png](img/웹%20시스템%20구성.png)

# 서블릿

### 서블릿이란? 
- **클라이언트의 요청을 처리하고, 그 결과를 반환하는 Servlet 클래스의 구현 규칙을 지킨 자바 웹 프로그래밍 기술**

### 서블릿의 동작방식
- 사용자의 http 요청을 파싱, 빈 응답객체를 생성
- 요청 (/hello)에 알맞은 서블릿 (`doGet /hello)`)를 찾아줌
- 비즈니스 로직 수행 후, 빈 응답객체에 결과물을 담아서 응답
![img.png](img/서블릿의%20동작%20방식.png)

### 서블릿 컨테이너
- 서블릿을 관리해주는 컨테이너, tomcat이 대표적 서블릿 컨테이너
- 서블릿 클래스를 로딩하여 인스턴스화하고,초기화 메소드를 호출하고, 요청이 들어오면 적절한 서블릿 메소드를 호출
- 서블릿 객체의 생성, 초기화, 호출, 종료, 생명주기를 관리함.
- 싱글톤으로 관리됨

   
# 동시 요청 - 멀티 쓰레드

### 쓰레드
- 자바 메인 메서드를 처음 실행하면 main이란 이름의 쓰레드가 실행됨
- 쓰레드는 한번에 하나의 코드만 수행
- 동시 처리가 필요하면 쓰레드를 추가로 생성해야함 
 
### 쓰레드 풀
- 단일쓰레드와 다중쓰레드의 단점을 보완하기 위해
- 필요한 쓰레드를 풀에 보관하고 관리
![img.png](img/쓰레드%20풀.png)

### WAS의 멀티 쓰레드 지원
- 멀티 스레드에 대한 부분을 was가 처리
- 개발자가 멀티 쓰레드 관련 코드에 크게 신경쓰지 않아도 됨
- 단, 싱글톤 객체는 주의해서 사용할 필요가 있음

# HTML, HTTP API, CSR, SSR

### 정적 리소스, 동적 리소스, HTTP API
- 고정된 HTML CSS, JS, 이미지 등
- 동적 HTML ( JSP, Thymeleaf 등 )
- 데이터만 전달 ( JSON, XML 등)

### SSR (Server Side Rendering)
- 서버에서 최종 HTML을 생성해서 클라이언트에게 전달
- JSP, 타임리프..

### CSR (Cilent Side Rendering)
- js를 이용해 웹 브라우저가 동적으로 HTML을 생서
- vue.js, 구글지도..

# 자바 백엔드 웹 기술 역사

